import{r as x,d as v,j as e,C as N}from"./index-ff15ffff.js";import{u as y}from"./index.esm-928e4bdd.js";import{d as f,c as b}from"./index.esm-5999ba0b.js";import{V as E}from"./Volver-3dcaf083.js";import{H as q}from"./Helmet-5b044e24.js";import"./iconBase-49c0322b.js";function B(){var n,c,d,m,u,p;const[i,o]=x.useState([]),h=v(),{register:r,handleSubmit:j,reset:w,formState:{errors:s}}=y();x.useEffect(()=>{const a=setTimeout(()=>{o([])},5e3);return()=>clearTimeout(a)},[i]);const g=async a=>{try{const t=await N(a);console.log(t),t.status==200&&swal.fire("Usuario creado con exito!","","success").then(()=>{h("/userManagement")})}catch(t){console.log(t),o(t.response.data)}},l=()=>{document.getElementById("eye-outline").classList.toggle("inactive"),document.getElementById("eye-line").classList.toggle("inactive"),document.getElementById("input-pass").type=document.getElementById("input-pass").type=="text"?"password":"text"};return e.jsxs("div",{children:[e.jsx(q,{children:e.jsx("title",{children:"Nuevo usuario"})}),e.jsx("div",{className:"title",children:e.jsxs("div",{className:"event_header d-flex justify-content-between",children:[e.jsx("span",{children:e.jsx(e.Fragment,{children:" Administración de usuarios"})}),e.jsx(E,{})]})}),e.jsx("div",{className:"py-2",children:e.jsx("div",{children:e.jsx("form",{onSubmit:j(g),children:e.jsxs("div",{className:"w-50 mx-auto my-auto",children:[e.jsxs("div",{className:"form-group mt-1",children:[e.jsxs("h3",{children:[e.jsx("strong",{children:" Crear nuevo usuario"})," "]}),i&&i.map(a=>e.jsxs("div",{className:"spanError",children:[e.jsx("div",{}),a]},0)),e.jsx("label",{children:"Nombre de usuario"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Nombre de usuario",...r("username",{required:!0,maxLength:10})}),((n=s.username)==null?void 0:n.type)=="required"&&e.jsx("p",{className:"errorMsg mb-0",children:"Este campo es requerido"}),s.username&&s.username.type==="maxLength"?e.jsx("div",{className:"errorMsg",children:"El nombre de usuario no puede tener más de 10 caracteres"}):""]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Email",...r("email",{required:!0})}),((c=s.email)==null?void 0:c.type)=="required"&&e.jsx("p",{className:"errorMsg mb-0",children:"Este campo es requerido"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Rol"}),e.jsxs("select",{className:"form-select",...r("rol"),children:[e.jsx("option",{value:"272",children:"Visitante"}),e.jsx("option",{value:"270",children:"Administrador"}),e.jsx("option",{value:"273",children:"Operador"})]}),((d=s.rol)==null?void 0:d.type)=="required"&&e.jsx("p",{className:"errorMsg mb-0",children:"Este campo es requerido"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Estado"}),e.jsxs("select",{className:"form-select",...r("status",{required:!0}),children:[e.jsx("option",{value:"1",children:"Activo"}),e.jsx("option",{value:"2",children:"Inactivo"}),e.jsx("option",{value:"3",children:"Eliminado"})]}),((m=s.status)==null?void 0:m.type)=="required"&&e.jsx("p",{className:"errorMsg mb-0",children:"Este campo es requerido"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"",children:"Contraseña"}),e.jsxs("div",{className:"d-flex flex-row",children:[e.jsx("input",{id:"input-pass",type:"password",...r("password",{required:!0,minLength:8}),className:"form-control form-control-sm rounded ",placeholder:"Contraseña..."}),e.jsxs("span",{className:"input-group-text fa fa-eye-slash",id:"basic-addon1",children:[e.jsx("a",{onClick:l,id:"eye-line",children:e.jsx(f,{size:"2rem",className:"eye"})}),e.jsx("a",{onClick:l,className:"inactive",id:"eye-outline",children:e.jsx(b,{size:"2rem",className:"eye"})})]})]}),((u=s.password)==null?void 0:u.type)=="required"&&e.jsx("p",{className:"errorMsg mb-0",children:"Este campo es requerido"}),((p=s.password)==null?void 0:p.type)=="minLength"&&e.jsx("p",{className:"errorMsg mb-0",children:"La contraseña debe de tener minimo 8 carácteres"})]}),e.jsx("div",{children:e.jsx("button",{className:"btn btn-success my-2",children:"Crear usuario"})})]})})})})]})}export{B as default};
